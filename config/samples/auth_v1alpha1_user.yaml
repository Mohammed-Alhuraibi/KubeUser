apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  labels:
    app.kubernetes.io/name: kubeuser
    app.kubernetes.io/managed-by: kustomize
  name: user-sample
spec:
  # Authentication configuration (MANDATORY)
  auth:
    type: x509  # Required: must be 'x509' or 'oidc'
    ttl: "2160h"  # Optional: defaults to 2160h (90 days)
    autoRenew: true  # Optional: defaults to false
  
  # Namespace-scoped role bindings
  roles:
    # Bind a namespace-scoped Role
    - namespace: "development"
      existingRole: "developer"
    # Bind a ClusterRole with RoleBinding (namespace-scoped permissions)
    - namespace: "staging"
      existingClusterRole: "view"
    - namespace: "production"
      existingClusterRole: "edit"
  
  # Cluster-wide ClusterRole bindings
  clusterRoles:
    - existingClusterRole: "cluster-admin"
