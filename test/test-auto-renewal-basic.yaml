apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: alice-auto-renew
spec:
  auth:
    type: x509
    ttl: "24h"           # 24 hour certificate
    autoRenew: true      # Enable auto-renewal
    # Uses default 33% rule: renews after 16 hours (8 hours before expiry)
  roles:
  - namespace: default
    existingRole: edit
  clusterRoles:
  - existingClusterRole: view
---
apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: bob-custom-renewal
spec:
  auth:
    type: x509
    ttl: "2h"            # 2 hour certificate
    autoRenew: true      # Enable auto-renewal
    renewBefore: "30m"   # Custom: renew 30 minutes before expiry
  roles:
  - namespace: kube-system
    existingClusterRole: cluster-admin
---
apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: charlie-short-lived
spec:
  auth:
    type: x509
    ttl: "10m"           # 10 minute certificate (minimum supported)
    autoRenew: true      # Enable auto-renewal
    renewBefore: "3m"    # Renew 3 minutes before expiry
  roles:
  - namespace: default
    existingRole: view