apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: dev-team-lead
spec:
  auth:
    type: x509
    ttl: "168h"          # 1 week certificate
    autoRenew: true      # Enable auto-renewal
    renewBefore: "24h"   # Renew 1 day before expiry
  roles:
  - namespace: development
    existingClusterRole: admin
  - namespace: staging
    existingRole: edit
  clusterRoles:
  - existingClusterRole: view
---
apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: ci-service-account
spec:
  auth:
    type: x509
    ttl: "720h"          # 30 day certificate
    autoRenew: true      # Enable auto-renewal
    # Uses default 33% rule: renews after 20 days (10 days before expiry)
  clusterRoles:
  - existingClusterRole: system:image-builder
  - existingClusterRole: system:image-puller
---
apiVersion: auth.openkube.io/v1alpha1
kind: User
metadata:
  name: monitoring-user
spec:
  auth:
    type: x509
    ttl: "8760h"         # 1 year certificate (maximum)
    autoRenew: true      # Enable auto-renewal
    renewBefore: "720h"  # Renew 30 days before expiry
  clusterRoles:
  - existingClusterRole: system:monitoring